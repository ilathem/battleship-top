(()=>{var e={523:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([e.id,"* {\n  margin: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  height: 100vh;\n  background-color: black;\n  color: white;\n  display: flex;\n  flex-direction: column;\n}\n\n.message {\n  width: 100%;\n  text-align: center;\n  padding: 0.5em;\n  font-size: 2em;\n}\n\n.boardDiv {\n  flex: 1;\n}\n\ntable {\n  border: 0px solid green;\n  height: 100%;\n  margin: auto;\n  border-spacing: 10px;\n}\n\ntd {\n  border: 2px solid gray;\n  min-width: 100px;\n  text-align: center;\n  user-select: none;\n  transition: all 200ms;\n}\n\ntd:hover {\n  cursor: pointer;\n  scale: 1.1;\n}\n\n.shipPlacementMouseOver {\n  border: 2px solid #00b4ea;\n}\n\n.valid {\n  border: 2px solid lightskyblue;\n}\n\n.invalid {\n  border: 2px solid red;\n}\n\n.shipPlacement {\n  border: 2px solid green;\n}\n\n.boardDiv {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  user-select: none;\n}\n\n.selectionText {\n  font-size: 1.25em;\n}\n\n.selectionBtn {\n  font-size: 1.5em;\n  margin: 1em auto;\n  background-color: black;\n  color: white;\n  border: 2px solid white;\n  padding: 0.5em 1em;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 250ms;\n}\n\n.selectionBtn:hover {\n  border: 2px solid #00b4ea;\n  color: #00b4ea;\n  scale: 1.2;\n}\n\n.selectionBtn:active {\n  scale: 1.1;\n}\n\n.renderShipsDiv {\n  font-size: 1.25em;\n  border: 2px solid white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 1em;\n}\n\n.shipsToChooseDiv {\n  display: flex;\n  margin-top: 1em;\n}\n\n.shipBtn {\n  margin: 0 1em;\n  padding: 0.5em 1em;\n  border: 2px solid white;\n  transition: all 100ms;\n  border-radius: 10px;\n  cursor: pointer;\n}\n\n.shipBtn:hover {\n  color: #00b4ea;\n  transform: translateY(-2px);\n}\n\n.shipBtn:active {\n  transform: translateY(5px);\n}\n\n.shipLocationInput {\n  color: white;\n  min-width: 280px;\n  border: 2px solid white;\n  background-color: black;\n  padding: 0.5em 1em;\n  font-size: 1.125rem;\n  border-radius: 10px;\n  outline: none;\n}\n\n.inputDiv {\n  display: flex;\n  padding: 1em 1em;\n  align-items: center;\n}\n\n.rotateBtn {\n  margin-left: 1em;\n  background: none;\n  color: white;\n  border: 2px solid white;\n  border-radius: 10px;\n  padding: 0.5em 1em;\n  font-size: 1rem;\n  transition:\n    transform 250ms,\n    color 100ms;\n  cursor: pointer;\n}\n\n.rotateBtn:hover {\n  color: #00b4ea;\n  transform: rotate(-5deg);\n}\n\n.rotateBtn:active {\n  transform: rotate(5deg);\n}\n\n.directionLabel {\n  margin-left: 1em;\n  margin-right: 0.25em;\n}\n\n.direction {\n  width: 120px;\n}\n\n.peekBoard {\n  padding: 0.5em 1em;\n  cursor: pointer;\n  font-size: 1rem;\n  border: 2px solid white;\n  background: none;\n  border-radius: 10px;\n  outline: none;\n  color: white;\n  transition: all 100ms;\n}\n\n.peekBoard:hover {\n  border: 2px solid #00b4ea;\n  color: #00b4ea;\n}\n\n.miniBoardTable {\n  position: absolute;\n  top: 8em;\n  left: 25%;\n  right: 25%;\n  height: 50vh;\n  background-color: #1c1c1c;\n}\n\n.miniBoardTable:active {\n  transform: none;\n}\n\n.miniTd {\n  min-width: 50px;\n}\n",""]);const s=a},314:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);r&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),n.push(c))}},n}},601:e=>{"use strict";e.exports=function(e){return e[1]}},72:e=>{"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],d=r.base?l[0]+r.base:l[0],c=i[d]||0,p="".concat(d," ").concat(c);i[d]=c+1;var u=t(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)n[u].references++,n[u].updater(h);else{var m=o(h,r);r.byIndex=s,n.splice(s,0,{identifier:p,updater:m,references:1})}a.push(p)}return a}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=t(i[a]);n[s].references--}for(var l=r(e,o),d=0;d<i.length;d++){var c=t(i[d]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}i=l}}},659:e=>{"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},904:(e,n,t)=>{const r=t(211);function o(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e}const i=[{name:"Aircraft Carrier",length:5},{name:"Battleship",length:4},{name:"Destroyer",length:4},{name:"Submarine",length:3},{name:"Patrol Boat",length:2}];function a(e,n,t,r,o){const i=o.board.board;if(console.log(i),"Left to right"===t){for(let t=n;t<n+r;t++)if(i[e]&&i[e][t])return!1;return!0}if("Top to bottom"===t){for(let t=e;t<e+r;t++)if(i[e]&&i[t][n])return!1;return!0}}e.exports={createTemplateGame:function(){return{player1:new r("player1"),player2:new r("player2")}},renderGameBoard:function(e,n,t,r,i,a){const s=document.createElement("button");s.innerText="Peek my board",s.classList.add("peekBoard"),s.addEventListener("mousedown",(()=>{!function(e,n){const t=[],r=document.createElement("table");r.classList.add("miniBoardTable");for(let e=0;e<n.length;e++){const o=document.createElement("tr");t[e]=new Array(n[e].length);for(let r=0;r<n[e].length;r++){const i=document.createElement("td");i.classList.add("miniTd");let a=n[e][r]&&n[e][r].charAt(0)||"-";i.innerText=a,t[e][r]=i,o.appendChild(i)}r.appendChild(o)}e.appendChild(r)}(s,a.board.board)})),s.addEventListener("mouseup",(()=>{var e;(e=s).removeChild(e.lastChild)})),e.appendChild(s);const l=[],d=document.createElement("table");for(let e=0;e<n.board.board.length;e++){const o=document.createElement("tr");l[e]=new Array(n.board.board[e].length);for(let a=0;a<n.board.board[e].length;a++){const s=document.createElement("td");let d=n.board.board[e][a]||"-";d=["X","O"].includes(n.board.board[e][a])?n.board.board[e][a]:"-",s.innerText=d,l[e][a]=s,s.addEventListener("click",(()=>{if(i)return;if(["X","O"].includes(n.board.board[e][a]))return;const o=n.board.receiveAttack(e,a);s.innerText=n.board.board[e][a],r.innerText=o,setTimeout(t,500)})),o.appendChild(s)}d.appendChild(o)}return e.appendChild(d),i&&setTimeout((()=>{let e=o(0,9),i=o(0,9);for(;["X","O"].includes(n.board.board[e][i]);)e=o(0,9),i=o(0,9);console.log(`cpu attacking ${e}${i}`);const a=n.board.receiveAttack(e,i);l[e][i].innerText=n.board.board[e][i],r.innerText=a,setTimeout(t,1e3)}),500),l},renderPregameBoard:function(e,n,t){const r=document.createElement("p"),o=[];let s=document.createElement("p");s.style.display="none",e.appendChild(s);const l=document.createElement("table");for(let d=0;d<n.board.board.length;d++){const c=document.createElement("tr");o[d]=new Array(n.board.board[d].length);for(let l=0;l<n.board.board[d].length;l++){const p=document.createElement("td");let u=n.board.board[d][l]||`${d}${l}`;p.innerText=u,o[d][l]=p,p.addEventListener("mouseover",(()=>{if(""===s.innerText)return;const e=i.find((e=>e.name===s.innerText)).length||0;if("Left to right"===r.innerText){if(l+e>10)return void o[d][l].classList.add("invalid");if(!a(d,l,r.innerText,e,n))return void o[d][l].classList.add("invalid");o[d][l].classList.add("valid");for(let n=l;n<l+e;n++)o[d][n].classList.add("shipPlacementMouseOver")}else if("Top to bottom"===r.innerText){if(d+e>10)return void o[d][l].classList.add("invalid");if(!a(d,l,r.innerText,e,n))return void o[d][l].classList.add("invalid");o[d][l].classList.add("valid");for(let n=d;n<d+e;n++)o[n][l].classList.add("shipPlacementMouseOver")}})),p.addEventListener("mouseleave",(()=>{if(""===s.innerText)return;const e=i.find((e=>e.name===s.innerText)).length||0;if(o[d][l].classList.remove("invalid"),o[d][l].classList.remove("valid"),"Left to right"===r.innerText){if(l+e>10)return;for(let n=l;n<l+e;n++)o[d][n].classList.remove("shipPlacementMouseOver")}else if("Top to bottom"===r.innerText){if(d+e>10)return;for(let n=d;n<d+e;n++)o[n][l].classList.remove("shipPlacementMouseOver")}})),p.addEventListener("mouseup",(()=>{if(console.log(`selected coordinate (${d}, ${l})`),!s.innerText)return;const c=i.find((e=>e.name===s.innerText)).length||0;if("Left to right"===r.innerText){if(l+c>10)return;if(!a(d,l,r.innerText,c,n))return;let e=!1;if(console.log(n.board.ships),n.board.ships&&n.board.ships[s.innerText]&&(e=!0),e)return;n.board.placeShip(d,l,d,l+c-1,s.innerText);for(let e=l;e<l+c;e++)o[d][e].classList.add("shipPlacement"),o[d][e].innerText=s.innerText.charAt(0)}if("Top to bottom"===r.innerText){if(d+c>10)return;if(!a(d,l,r.innerText,c,n))return;n.board.placeShip(d,l,d+c-1,l,s.innerText);for(let e=d;e<d+c;e++)o[e][l].classList.add("shipPlacement"),o[d][e].innerText=s.innerText.charAt(0)}5===Object.keys(n.board.ships).length&&(console.log("all ships have been placed"),e.innerHTML="",t())})),c.appendChild(p)}l.appendChild(c)}return e.appendChild(function(e,n,t,r){const o=document.createElement("p");o.innerText="Direction: ",o.classList.add("directionLabel"),r.innerText="Left to right",r.classList.add("direction");const a=document.createElement("div");a.classList.add("renderShipsDiv");const s=document.createElement("p");s.innerText="Select which ship you would like to place",s.classList.add("selectionText");const l=document.createElement("div");l.classList.add("shipsToChooseDiv");const d=document.createElement("input");d.classList.add("shipLocationInput"),d.type="number",d.placeholder="Tap or type starting square",d.disabled=!0;const c=document.createElement("div");c.classList.add("inputDiv");const p=document.createElement("button");p.innerText="Rotate ship",p.classList.add("rotateBtn"),p.addEventListener("click",(()=>{"Left to right"===r.innerText?r.innerText="Top to bottom":r.innerText="Left to right"})),r.classList.add("direction");const u=[];for(let e=0;e<5;e++){const t=document.createElement("div");u.push(t),t.innerText=i[e].name,t.classList.add("shipBtn"),l.appendChild(t),t.addEventListener("click",(()=>{console.log(`setting active ship to ${i[e].name}`),n.innerText=i[e].name,d.disabled=!1,d.style.border="2px solid #00B4EA",u.forEach((e=>e.style.border="2px solid white")),t.style.border="2px solid #00B4EA",p.style.border="2px solid #00B4EA"}))}return d.addEventListener("keyup",(e=>{if(e.target.value.toString().length<2||e.target.value.toString().length>2||e.target.value<0||e.target.value>99||e.target.value.toString().includes("-")||e.target.value.toString().includes("."))return;console.log(e.target.value),console.log(n);const o=Number(e.target.value.toString()[0]),a=Number(e.target.value.toString()[1]),s=i.find((e=>e.name===n));if(console.table(o,a,s),"horizontal"===r)for(let e=0;e<s.length;e++)t[o][a+e].innerText="0"})),a.appendChild(s),a.appendChild(l),c.appendChild(p),c.appendChild(o),c.appendChild(r),a.appendChild(c),a}(0,s,o,r)),e.appendChild(l),o},populateWithPredeterminedCoordinates:function(e){const n=[[0,0,0,4,"carrier"],[1,9,4,9,"battleship"],[1,0,1,2,"destroyer"],[6,5,8,5,"submarine"],[9,0,9,1,"patrol boat"]];for(const t in n)e.board.placeShip(...n[t])}}},906:(e,n,t)=>{const r=t(432);e.exports=class{constructor(){this.board=Array.from(Array(10),(()=>new Array(10))),this.missedAttacks=[]}placeShip(e,n,t,o,i=null){if(e!==t&&n!==o)throw new Error("No diagonal ships");let a;n===o&&(a="vertical"),e===t&&(a="horizontal");const s="horizontal"===a?e:n;let l,d=0;if(console.log(`orientation is ${a}`),"horizontal"===a){const e=Math.min(n,o),t=Math.max(n,o);d=t-e+1,l=new r(d,i);for(let n=e;n<=t;n++)this.board[s][n]=l.id}else if("vertical"===a){const n=Math.min(e,t),o=Math.max(e,t);d=o-n+1,l=new r(d,i);for(let e=n;e<=o;e++)this.board[e][s]=l.id}return console.log(this.board),this.ships={...this.ships,[l.id]:l},l}receiveAttack(e,n){const t=this.board[e][n];return t&&"X"!==t?(this.ships[t].hit(),this.board[e][n]="X",console.log(`attack (${e}, ${n}): ${t} hit (length is ${this.ships[t].length}), total hit count is ${this.ships[t].hitCount}`),"Hit!"):(this.board[e][n]="O",this.missedAttacks.push([e,n]),"Miss!")}allSunk(){if(!this.ships)return!1;for(const e in this.ships)if(!this.ships[e].isSunk())return!1;return!0}}},211:(e,n,t)=>{const r=t(906);e.exports=class{constructor(e){this.type=e,this.board=new r}}},432:e=>{e.exports=class{constructor(e,n=null){this.length=e,this.hitCount=0,this.id=n||Date.now()}hit(){this.hitCount++}isSunk(){return this.length===this.hitCount}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return e[r](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{"use strict";var e=t(72),n=t.n(e),r=t(825),o=t.n(r),i=t(659),a=t.n(i),s=t(56),l=t.n(s),d=t(540),c=t.n(d),p=t(113),u=t.n(p),h=t(523),m={};m.styleTagTransform=u(),m.setAttributes=l(),m.insert=a().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=c(),n()(h.A,m),h.A&&h.A.locals&&h.A.locals;const{createTemplateGame:f,renderGameBoard:b,renderPregameBoard:g,populateWithPredeterminedCoordinates:v}=t(904),{player1:x,player2:T}=f(),y=document.querySelector("body"),L=document.createElement("div"),E=document.createElement("p");E.classList.add("message"),L.classList.add("boardDiv"),y.appendChild(E),y.appendChild(L);let C=!1;const w=[x,T];let k=0,B=1;function A(e){console.log(`calling triggerNextTurn from player ${k}, board ${B}`),console.log(w[B].board.allSunk()),w[B].board.allSunk()?(console.log(`all ships sunk for board ${B}, player ${k} should win`),L.innerHTML="",E.innerText=`Player ${k+1} Wins!\nReload to start a new game`):(L.innerHTML="",e||(k=(k+1)%w.length,B=(B+1)%w.length),E.innerText=`Player ${k+1} Turn`,console.log(`triggering board for player ${k}, board ${B}`),b(L,w[B],A,E,C&&1===k,w[k]))}function M(){L.innerHTML="",v(w[1]),A(!0)}function S(){E.innerText="Player 2, place your ships...",g(L,w[1],(()=>A(!0)))}!function(){E.innerText="Battleship";const e=document.createElement("p");e.classList.add("selectionText"),e.innerText="Playing against player or computer?";const n=document.createElement("button");n.innerText="Computer",n.classList.add("selectionBtn"),n.addEventListener("mouseup",(()=>{C=!0,L.innerHTML="",E.innerText="Player, place your ships...",g(L,w[0],M)}));const t=document.createElement("button");t.innerText="Player",t.classList.add("selectionBtn"),t.addEventListener("mouseup",(()=>{L.innerHTML="",E.innerText="Player 1, place your ships...",g(L,w[0],S)})),L.appendChild(e),L.appendChild(n),L.appendChild(t)}()})()})();